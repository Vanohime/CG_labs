# Документация разработчика

## Текст программы

### Наименование программы

**ColorConverter** — приложение для конвертации цветов между различными цветовыми моделями (RGB, CMYK, HSL) с использованием библиотеки Qt.

### Область применения

Программа предназначена для работы с цветовыми моделями и их преобразованиями. Может использоваться дизайнерами, разработчиками и другими специалистами, работающими с цветом в различных форматах.

### Назначение программы

- Конвертация цветов между моделями RGB, CMYK и HSL
- Визуальное отображение выбранного цвета
- Интерактивное изменение цветовых параметров
- Выбор цвета через стандартный диалог выбора цвета
- Контроль корректности ввода значений
- Отслеживание потери цвета при конвертации

### Функциональные возможности

- Ввод и отображение значений в форматах:
  - RGB (0-255 для каждого канала)
  - CMYK (0-1 для каждого канала)
  - HSL (0-360 для H, 0-1 для S и L)
- Изменение цвета с помощью слайдеров RGB
- Выбор цвета через диалоговое окно
- Отображение предупреждения при потере цвета
- Автоматическое обновление всех форматов при изменении любого значения
- Визуальное отображение выбранного цвета в виде цвета фона окна
- Адаптивное изменение цвета текста в зависимости от яркости фона

## Описание программы

### Структура программы

- **MainWindow**: главный класс приложения, наследующийся от `QMainWindow`
  - **Основные компоненты**:
    - Текстовые поля для ввода значений RGB, CMYK, HSL
    - Слайдеры для RGB каналов
    - Метки для отображения значений
    - Область предпросмотра цвета (фон окна)
  - **Вспомогательные функции**:
    - `roundToTwoDecimals`: округление до двух знаков после запятой
    - `string_to_vector`: парсинг строки в вектор чисел
    - `vector_to_string`: преобразование вектора чисел в строку
  - **Функции конвертации**:
    - `rgb_to_cmyk`: преобразование из RGB в CMYK
    - `cmyk_to_rgb`: преобразование из CMYK в RGB
    - `rgb_to_hsl`: преобразование из RGB в HSL
    - `hsl_to_rgb`: преобразование из HSL в RGB
  - **Методы обновления интерфейса**:
    - `update_rgb`: обновление RGB значений
    - `update_sliders`: обновление положения слайдеров
    - `update_color`: обновление цвета фона и текста

### Алгоритмы преобразования

1. **RGB в CMYK**:
   - Нормализация RGB значений (0-1)
   - Вычисление черного канала (K)
   - Расчет C, M, Y с учетом K

2. **CMYK в RGB**:
   - Применение формул преобразования с учетом K канала
   - Масштабирование результата (0-255)

3. **RGB в HSL**:
   - Нормализация RGB значений
   - Поиск максимума и минимума
   - Вычисление H, S, L по формулам

4. **HSL в RGB**:
   - Вычисление промежуточных значений
   - Применение формул преобразования
   - Масштабирование результата

### Обработка ошибок

- Проверка корректности введенных значений
- Валидация диапазонов для каждой цветовой модели
- Отслеживание потери цвета при конвертации
- Визуальное оповещение пользователя о проблемах

### Используемые библиотеки и модули

- <QVector>
- <QString>
- <QRegularExpression>
- <QPaintEvent>
- <QColorDialog>
- <QPalette>
- <QDebug>

### Запуск программы

1. Найдите в папке code файл pkg_lab1.pro и запустите его.
2. Если у вас установлен QT-Designer, в нем откроется проект, который можно запустить.
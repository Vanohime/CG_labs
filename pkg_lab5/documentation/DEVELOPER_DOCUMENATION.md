# Документация разработчика

## Текст программы

### Наименование программы

**LineClippingVisualizer** — десктопное приложение для визуализации алгоритмов отсечения отрезков на языке C++ с использованием фреймворка Qt.

### Область применения

Программа предназначена для визуализации и изучения алгоритмов отсечения отрезков, таких как алгоритмы Кириуса-Бэка и Коэна-Сазерлэнда. Она может быть полезна в учебных целях для демонстрации работы этих алгоритмов.

### Назначение программы

- Реализация и визуализация следующих алгоритмов отсечения:
  - Алгоритм Коэна-Сазерлэнда
  - Алгоритм Кириуса-Бэка
- Предоставление графического интерфейса для загрузки данных и взаимодействия с алгоритмами
- Визуализация координатной сетки, отрезков и отсекателей

### Функциональные возможности

- Загрузка данных об отрезках и отсекателях из текстового файла
- Выбор метода отсечения (прямоугольник или выпуклый многоугольник)
- Отрисовка координатной сетки с осями
- Визуализация отрезков до и после отсечения
- Отображение информации о загруженных данных и результатах отсечения

## Описание программы

### Структура программы

- **MainWindow**: главный класс приложения, наследующийся от `QMainWindow`
  - **Конструкторы и деструкторы**:
    - `MainWindow`: инициализация окна, настройка интерфейса и подключение сигналов
    - `~MainWindow`: освобождение ресурсов
  - **Методы взаимодействия**:
    - `loadFile`: загрузка данных из файла
    - `clipLines`: выполнение отсечения отрезков
  - **Методы отрисовки**:
    - `drawCoordinateSystem`: отрисовка координатной сетки
    - `drawLines`: отрисовка загруженных отрезков
    - `drawClipWindow`: отрисовка прямоугольника отсечения
    - `drawClipPolygon`: отрисовка многоугольника отсечения
  - **Алгоритмы отсечения**:
    - `cohenSutherlandClip`: реализация алгоритма Коэна-Сазерлэнда
    - `cyrusBeckClip`: реализация алгоритма Кириуса-Бэка

### Используемые библиотеки и модули

- **Qt Framework**:
  - `QtWidgets`: для создания графического интерфейса
  - `QtGui`: для работы с графикой
  - `QtCore`: базовые классы Qt

### Логические структуры данных

- **Члены класса**:
  - `scene`: указатель на сцену для отрисовки
  - `view`: указатель на вид для отображения сцены
  - `loadButton`, `clipButton`: кнопки для загрузки файла и выполнения отсечения
  - `rectClipButton`, `polyClipButton`: радиокнопки для выбора метода отсечения
  - `lines`: вектор отрезков
  - `clipWindow`: прямоугольник отсечения
  - `clipPolygon`: многоугольник отсечения
  - `normals`: вектор нормал к ребрам многоугольника

### Взаимодействие с пользователем

- Пользователь выбирает файл для загрузки данных об отрезках и отсекателях.
- Выбор метода отсечения осуществляется через радиокнопки.
- При нажатии кнопки "Отсечь отрезки" происходит визуализация результатов отсечения.
- Результаты отображаются на координатной плоскости.

## Инструкция по установке и запуску

### Требования к системе

- Компилятор C++ с поддержкой C++11 или выше
- Qt Framework версии 5.0 или выше
- CMake версии 3.1 или выше (при использовании CMake для сборки)

### Сборка и запуск

- **Запустите приложение**:
  - Через Qt Creator
  - Или напрямую запустите исполняемый файл

### Формат входных данных
- N - число отсекаемых отрезков
- N строк формата х1 у1 х2 у2 - координаты начала и конца отрезка
- x_topl y_topl x_botr y_botr - координаты левой верхней и правой нижней вершин прямоугольного отсекателя
- К - число вершин выпуклого многоугольника
- К строк формата х у - координаты вершин
- В папке tests есть готовые тестовые данные

### Примечания по использованию

- Координатная сетка автоматически масштабируется под размер окна.
- Отрезки отображаются красным цветом, отрезанные фрагменты - зеленым.
- Для удобства использования координаты подписаны на осях.
